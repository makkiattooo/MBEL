# MBEL: å®˜æ–¹å®Œæ•´æ‰‹å†Œ

**ç‰ˆæœ¬:** 1.2.0
**æ—¥æœŸ:** 2026å¹´1æœˆ

---

## ğŸ“– ç›®å½•

1.  [ç®€ä»‹](#1-ç®€ä»‹)
2.  [MBEL è¯­è¨€](#2-mbel-è¯­è¨€)
    *   [æ–‡ä»¶ç»“æ„](#21-æ–‡ä»¶ç»“æ„)
    *   [æ•°æ®ç±»å‹](#22-æ•°æ®ç±»å‹)
    *   [æ’å€¼ä¸å˜é‡](#23-æ’å€¼ä¸å˜é‡)
    *   [é€»è¾‘ä¸æ§åˆ¶æµ](#24-é€»è¾‘ä¸æ§åˆ¶æµ)
3.  [CLI å·¥å…·é“¾](#3-cli-å·¥å…·é“¾)
4.  [Go SDK é›†æˆ](#4-go-sdk-é›†æˆ)

---

## 1. ç®€ä»‹

Modern Billed-English Language (MBEL) æ˜¯ä¸“ä¸º AI æ—¶ä»£è®¾è®¡çš„ä¸‹ä¸€ä»£æœ¬åœ°åŒ–ç³»ç»Ÿã€‚

---

## 2. MBEL è¯­è¨€

### 2.1 æ–‡ä»¶ç»“æ„

```mbel
@namespace: "features.auth"  # å…ƒæ•°æ®

[ç™»å½•å±å¹•]                   # åˆ†èŠ‚

title = "ç™»å½•"               # èµ‹å€¼
```

### 2.2 æ•°æ®ç±»å‹

*   **å­—ç¬¦ä¸²å­—é¢é‡**: ä½¿ç”¨åŒå¼•å·ã€‚
*   **å¤šè¡Œå­—ç¬¦ä¸²**: ä½¿ç”¨ä¸‰å¼•å· `"""`ã€‚

### 2.3 æ’å€¼ä¸å˜é‡

å˜é‡åŒ…å«åœ¨èŠ±æ‹¬å· `{}` ä¸­ã€‚

*   **è¯­æ³•**: `ä½ å¥½ï¼Œ{user_name}ï¼`

### 2.4 é€»è¾‘ä¸æ§åˆ¶æµ

MBEL æ”¯æŒå¼ºå¤§çš„é€»è¾‘åˆ¤æ–­ã€‚

**è¯­æ³•:** `key(variable) { cases }`

#### ç²¾ç¡®åŒ¹é…
```mbel
theme(mode) {
    [dark]  => "æ·±è‰²æ¨¡å¼"
    [light] => "æµ…è‰²æ¨¡å¼"
}
```

#### èŒƒå›´åŒ¹é…
```mbel
battery(percent) {
    [0]       => "ç”µé‡è€—å°½"
    [1-19]    => "ç”µé‡ä½"
    [100]     => "å·²å……æ»¡"
}
```

#### å¤æ•°å½¢å¼
ä¸­æ–‡é€šå¸¸ä¸åŒºåˆ†å¤æ•°å½¢å¼ï¼Œå› æ­¤é€šå¸¸åªä½¿ç”¨ `[other]` è§„åˆ™ã€‚

```mbel
items_zh(n) {
    [other] => "{n} ä¸ªé¡¹ç›®"
}
```

---

## 5. CLI å·¥å…·é“¾

*   `mbel init`: è®¾ç½®å‘å¯¼ã€‚
*   `mbel lint`: è¯­æ³•æ£€æŸ¥ã€‚
*   `mbel compile`: ç¼–è¯‘ä¸º JSONã€‚
*   `mbel watch`: çƒ­é‡è½½ã€‚
*   **`stats`**: ç»Ÿè®¡ä¿¡æ¯ã€‚
*   **`fmt`**: ä»£ç æ ¼å¼åŒ–ã€‚

---

## 4. Go SDK é›†æˆ

### 4.1 æ¶æ„

*   **Manager**: ä¸­å¤®ç®¡ç†å™¨ã€‚
*   **Runtime**: è¿è¡Œæ—¶ç¯å¢ƒã€‚
*   **Repository**: æ•°æ®æºæ¥å£ã€‚

### 4.2 åˆå§‹åŒ–

```go
import "github.com/yourusername/mbel"

func init() {
    mbel.Init("./locales", mbel.Config{
        DefaultLocale: "zh",
        Watch:         true,
    })
}
```

### 4.3 ä½¿ç”¨ (T å‡½æ•°)

```go
func HandleRequest(w http.ResponseWriter, r *http.Request) {
    ctx := r.Context()

    // 1. ç®€å•é”®
    title := mbel.T(ctx, "page_title")

    // 2. å¸¦å˜é‡
    msg := mbel.T(ctx, "welcome", mbel.Vars{"name": "å¼ ä¸‰"})

    // 3. å¤æ•°/é€»è¾‘
    items := mbel.T(ctx, "cart_items", 5) 
}
```

### 4.4 HTTP ä¸­é—´ä»¶

è‡ªåŠ¨è§£æ `Accept-Language` å¤´ã€‚

```go
router.Use(mbel.Middleware)
```
